// Auto-generated by scripts/extract.py - DO NOT EDIT
// Re-run 'npm run extract' to update

/**
 * Extracted from PathSim Simulation class
 */

export interface ExtractedSimulationParam {
  pathsim_name: string;
  type: string;
  default: string | null;
  description: string;
}

export const simulationDescription = "Class that performs transient analysis of the dynamical system, defined by the";

export const simulationDocstringHtml = "<p>Class that performs transient analysis of the dynamical system, defined by the\nblocks and connecions. It manages all the blocks and connections and the timestep update.</p>\n<p>The global system equation is evaluated by fixed point iteration, so the information from\neach timestep gets distributed within the entire system and is available for all blocks at\nall times.</p>\n<p>The minimum number of fixed-point iterations 'iterations_min' is set to 'None' by default\nand then the length of the longest internal signal path (with passthrough) is used as the\nestimate for minimum number of iterations needed for the information to reach all instant\ntime blocks in each timestep. Dont change this unless you know that the actual path is\nshorter or something similar that prohibits instant time information flow.</p>\n<p>Convergence check for the fixed-point iteration loop with 'tolerance_fpi' is based on\nmax absolute error (max-norm) to previous iteration and should not be touched.</p>\n<p>Multiple numerical integrators are implemented in the 'pathsim.solvers' module.\nThe default solver is a fixed timestep 2nd order Strong Stability Preserving Runge Kutta\n(SSPRK22) method which is quite fast and has ok accuracy, especially if you are forced to\ntake small steps to cover the behaviour of forcing functions. Adaptive timestepping and\nimplicit integrators are also available.</p>\n<p>Manages an event handling system based on zero crossing detection. Uses 'Event' objects\nto monitor solver states of stateful blocks and applys transformations on the state in\ncase an event is detected.</p>\n<div class=\"section\" id=\"example\">\n<h3>Example</h3>\n<p>This is how to setup a simple system simulation using the 'Simulation' class:</p>\n<pre class=\"code python literal-block\">\n<span class=\"keyword namespace\">import</span><span class=\"whitespace\"> </span><span class=\"name namespace\">numpy</span><span class=\"whitespace\"> </span><span class=\"keyword\">as</span><span class=\"whitespace\"> </span><span class=\"name namespace\">np</span><span class=\"whitespace\">\n\n</span><span class=\"keyword namespace\">from</span><span class=\"whitespace\"> </span><span class=\"name namespace\">pathsim</span><span class=\"whitespace\"> </span><span class=\"keyword namespace\">import</span> <span class=\"name\">Simulation</span><span class=\"punctuation\">,</span> <span class=\"name\">Connection</span><span class=\"whitespace\">\n</span><span class=\"keyword namespace\">from</span><span class=\"whitespace\"> </span><span class=\"name namespace\">pathsim.blocks</span><span class=\"whitespace\"> </span><span class=\"keyword namespace\">import</span> <span class=\"name\">Source</span><span class=\"punctuation\">,</span> <span class=\"name\">Integrator</span><span class=\"punctuation\">,</span> <span class=\"name\">Scope</span><span class=\"whitespace\">\n\n</span><span class=\"name\">src</span> <span class=\"operator\">=</span> <span class=\"name\">Source</span><span class=\"punctuation\">(</span><span class=\"keyword\">lambda</span> <span class=\"name\">t</span><span class=\"punctuation\">:</span> <span class=\"name\">np</span><span class=\"operator\">.</span><span class=\"name\">cos</span><span class=\"punctuation\">(</span><span class=\"literal number integer\">2</span><span class=\"operator\">*</span><span class=\"name\">np</span><span class=\"operator\">.</span><span class=\"name\">pi</span><span class=\"operator\">*</span><span class=\"name\">t</span><span class=\"punctuation\">))</span><span class=\"whitespace\">\n</span><span class=\"name\">itg</span> <span class=\"operator\">=</span> <span class=\"name\">Integrator</span><span class=\"punctuation\">()</span><span class=\"whitespace\">\n</span><span class=\"name\">sco</span> <span class=\"operator\">=</span> <span class=\"name\">Scope</span><span class=\"punctuation\">(</span><span class=\"name\">labels</span><span class=\"operator\">=</span><span class=\"punctuation\">[</span><span class=\"literal string double\">&quot;source&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal string double\">&quot;integrator&quot;</span><span class=\"punctuation\">])</span><span class=\"whitespace\">\n\n</span><span class=\"name\">sim</span> <span class=\"operator\">=</span> <span class=\"name\">Simulation</span><span class=\"punctuation\">(</span><span class=\"whitespace\">\n</span>    <span class=\"name\">blocks</span><span class=\"operator\">=</span><span class=\"punctuation\">[</span><span class=\"name\">src</span><span class=\"punctuation\">,</span> <span class=\"name\">itg</span><span class=\"punctuation\">,</span> <span class=\"name\">sco</span><span class=\"punctuation\">],</span><span class=\"whitespace\">\n</span>    <span class=\"name\">connections</span><span class=\"operator\">=</span><span class=\"punctuation\">[</span><span class=\"whitespace\">\n</span>        <span class=\"name\">Connection</span><span class=\"punctuation\">(</span><span class=\"name\">src</span><span class=\"punctuation\">[</span><span class=\"literal number integer\">0</span><span class=\"punctuation\">],</span> <span class=\"name\">itg</span><span class=\"punctuation\">[</span><span class=\"literal number integer\">0</span><span class=\"punctuation\">],</span> <span class=\"name\">sco</span><span class=\"punctuation\">[</span><span class=\"literal number integer\">0</span><span class=\"punctuation\">]),</span><span class=\"whitespace\">\n</span>        <span class=\"name\">Connection</span><span class=\"punctuation\">(</span><span class=\"name\">itg</span><span class=\"punctuation\">[</span><span class=\"literal number integer\">0</span><span class=\"punctuation\">],</span> <span class=\"name\">sco</span><span class=\"punctuation\">[</span><span class=\"literal number integer\">1</span><span class=\"punctuation\">])</span><span class=\"whitespace\">\n</span>        <span class=\"punctuation\">],</span><span class=\"whitespace\">\n</span>    <span class=\"name\">dt</span><span class=\"operator\">=</span><span class=\"literal number float\">0.01</span><span class=\"whitespace\">\n</span>    <span class=\"punctuation\">)</span><span class=\"whitespace\">\n\n</span><span class=\"name\">sim</span><span class=\"operator\">.</span><span class=\"name\">run</span><span class=\"punctuation\">(</span><span class=\"literal number integer\">4</span><span class=\"punctuation\">)</span><span class=\"whitespace\">\n</span><span class=\"name\">sim</span><span class=\"operator\">.</span><span class=\"name\">plot</span><span class=\"punctuation\">()</span>\n</pre>\n</div>\n<div class=\"section\" id=\"parameters\">\n<h3>Parameters</h3>\n<dl class=\"docutils\">\n<dt>blocks <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list[Block]</span></dt>\n<dd>blocks that define the system</dd>\n<dt>connections <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list[Connection]</span></dt>\n<dd>connections that connect the blocks</dd>\n<dt>events <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list[Event]</span></dt>\n<dd>list of event trackers (zero crossing detection, schedule, etc.)</dd>\n<dt>dt <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd>transient simulation timestep in time units,\ndefault see \u00b4SIM_TIMESTEP\u00b4 in \u00b4_constants.py\u00b4</dd>\n<dt>dt_min <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd>lower bound for transient simulation timestep,\ndefault see \u00b4SIM_TIMESTEP_MIN\u00b4 in \u00b4_constants.py\u00b4</dd>\n<dt>dt_max <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd>upper bound for transient simulation timestep,\ndefault see \u00b4SIM_TIMESTEP_MAX\u00b4 in \u00b4_constants.py\u00b4</dd>\n<dt>Solver <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Solver</span></dt>\n<dd>ODE solver class for numerical integration from \u00b4pathsim.solvers\u00b4,\ndefault is \u00b4pathsim.solvers.ssprk22.SSPRK22\u00b4 (2nd order expl. Runge Kutta)</dd>\n<dt>tolerance_fpi <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd>absolute tolerance for convergence of algebraic loops\nand internal optimizers of implicit ODE solvers,\ndefault see \u00b4SIM_TOLERANCE_FPI\u00b4 in \u00b4_constants.py\u00b4</dd>\n<dt>iterations_max <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd>maximum allowed number of iterations for implicit ODE\nsolver optimizers and algebraic loop solver,\ndefault see \u00b4SIM_ITERATIONS_MAX\u00b4 in \u00b4_constants.py\u00b4</dd>\n<dt>log <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool | string</span></dt>\n<dd>flag to enable logging, default see \u00b4LOG_ENABLE\u00b4 in \u00b4_constants.py\u00b4\n(alternatively a path to a log file can be specified)</dd>\n<dt>solver_kwargs <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict</span></dt>\n<dd>additional parameters for numerical solvers such as absolute\n(\u00b4tolerance_lte_abs\u00b4) and relative (\u00b4tolerance_lte_rel\u00b4) tolerance,\ndefaults are defined in \u00b4_constants.py\u00b4</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"attributes\">\n<h3>Attributes</h3>\n<dl class=\"docutils\">\n<dt>time <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd>global simulation time, starting at \u00b40.0\u00b4</dd>\n<dt>graph <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Graph</span></dt>\n<dd>internal graph representation for fast system funcion evluations\nusing DAG with algebraic depths</dd>\n<dt>boosters <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None | list[ConnectionBooster]</span></dt>\n<dd>list of boosters (fixed point accelerators) that wrap algebraic\nloop closing connections assembled from the system graph</dd>\n<dt>engine <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Solver</span></dt>\n<dd>global integrator (ODE solver) instance serving as a dummy to\nget attributes and access to intermediate evaluation stages</dd>\n<dt>logger <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">logging.Logger</span></dt>\n<dd>global simulation logger</dd>\n<dt>_blocks_dyn <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">set[Block]</span></dt>\n<dd>blocks with internal \u00b4Solver\u00b4 instances (stateful)</dd>\n<dt>_blocks_evt <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">set[Block]</span></dt>\n<dd>blocks with internal events (discrete time, eventful)</dd>\n<dt>_active <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd>flag for setting the simulation as active, used for interrupts</dd>\n</dl>\n</div>\n";

export const extractedSimulationParams: Record<string, ExtractedSimulationParam> = 
{
  "dt": {
    "pathsim_name": "dt",
    "type": "number",
    "default": "0.01",
    "description": "transient simulation timestep in time units, default see \u00b4SIM_TIMESTEP\u00b4 in \u00b4_constants.py\u00b4"
  },
  "dt_min": {
    "pathsim_name": "dt_min",
    "type": "number",
    "default": "1e-16",
    "description": "lower bound for transient simulation timestep, default see \u00b4SIM_TIMESTEP_MIN\u00b4 in \u00b4_constants.py\u00b4"
  },
  "dt_max": {
    "pathsim_name": "dt_max",
    "type": "any",
    "default": null,
    "description": "upper bound for transient simulation timestep, default see \u00b4SIM_TIMESTEP_MAX\u00b4 in \u00b4_constants.py\u00b4"
  },
  "solver": {
    "pathsim_name": "Solver",
    "type": "string",
    "default": "\"SSPRK22\"",
    "description": "ODE solver class for numerical integration from \u00b4pathsim.solvers\u00b4, default is \u00b4pathsim.solvers.ssprk22.SSPRK22\u00b4 (2nd order expl. Runge Kutta)"
  },
  "ftol": {
    "pathsim_name": "tolerance_fpi",
    "type": "number",
    "default": "1e-10",
    "description": "absolute tolerance for convergence of algebraic loops and internal optimizers of implicit ODE solvers, default see \u00b4SIM_TOLERANCE_FPI\u00b4 in \u00b4_constants.py\u00b4"
  },
  "iterations_max": {
    "pathsim_name": "iterations_max",
    "type": "integer",
    "default": "200",
    "description": "maximum allowed number of iterations for implicit ODE solver optimizers and algebraic loop solver, default see \u00b4SIM_ITERATIONS_MAX\u00b4 in \u00b4_constants.py\u00b4"
  },
  "log": {
    "pathsim_name": "log",
    "type": "boolean",
    "default": "True",
    "description": "flag to enable logging, default see \u00b4LOG_ENABLE\u00b4 in \u00b4_constants.py\u00b4 (alternatively a path to a log file can be specified)"
  },
  "rtol": {
    "pathsim_name": "tolerance_lte_rel",
    "type": "number",
    "default": "1e-05",
    "description": "Relative error tolerance for adaptive timestep control"
  },
  "atol": {
    "pathsim_name": "tolerance_lte_abs",
    "type": "number",
    "default": "1e-08",
    "description": "Absolute error tolerance for adaptive timestep control"
  },
  "duration": {
    "pathsim_name": "duration",
    "type": "number",
    "default": "10.0",
    "description": "Total simulation time"
  }
};

// UI-only parameters (not from PathSim)
export const uiOnlyParams: Record<string, ExtractedSimulationParam> = 
{
  "ghostTraces": {
    "pathsim_name": "",
    "type": "integer",
    "default": "0",
    "description": "Number of previous simulation traces to show faded"
  },
  "plotResults": {
    "pathsim_name": "",
    "type": "boolean",
    "default": "true",
    "description": "Auto-open plot panel after simulation"
  }
};

export const solverConfig = 
{
  "adaptive": {
    "explicit": [
      "RKBS32",
      "RKCK54"
    ],
    "implicit": [
      "GEAR52A",
      "ESDIRK43"
    ]
  },
  "fixed": {
    "explicit": [
      "SSPRK22",
      "RK4"
    ],
    "implicit": [
      "BDF2"
    ]
  }
};

export const availableSolvers = ["BDF2", "ESDIRK43", "GEAR52A", "RK4", "RKBS32", "RKCK54", "SSPRK22"];
